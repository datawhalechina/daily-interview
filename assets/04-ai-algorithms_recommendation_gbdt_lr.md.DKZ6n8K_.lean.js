import{_ as s,c as a,o as e,ag as T,j as t,a as l}from"./chunks/framework.DT5BmYxR.js";const o="/daily-interview/images/gbdt-lr.png",q=JSON.parse('{"title":"gbdt lr","description":"","frontmatter":{},"headers":[],"relativePath":"04-ai-algorithms/recommendation/gbdt_lr.md","filePath":"04-ai-algorithms/recommendation/gbdt_lr.md"}'),m={name:"04-ai-algorithms/recommendation/gbdt_lr.md"},n={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},d={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.118ex"},xmlns:"http://www.w3.org/2000/svg",width:"22.388ex",height:"6.647ex",role:"img",focusable:"false",viewBox:"0 -1118 9895.7 2938","aria-hidden":"true"},r={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},i={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.735ex",height:"2.034ex",role:"img",focusable:"false",viewBox:"0 -705 1650.7 899","aria-hidden":"true"},h={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},p={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.948ex",height:"4.885ex",role:"img",focusable:"false",viewBox:"0 -1118 5281.1 2159.1","aria-hidden":"true"},g={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.65ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.119ex",height:"1.65ex",role:"img",focusable:"false",viewBox:"0 -442 1378.8 729.2","aria-hidden":"true"},u={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},x={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.202ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.018ex",height:"4.731ex",role:"img",focusable:"false",viewBox:"0 -1118 4428.1 2091.2","aria-hidden":"true"},H={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},w={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.308ex"},xmlns:"http://www.w3.org/2000/svg",width:"9.646ex",height:"4.837ex",role:"img",focusable:"false",viewBox:"0 -1118 4263.3 2138","aria-hidden":"true"},L={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},f={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.65ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.351ex",height:"1.969ex",role:"img",focusable:"false",viewBox:"0 -583 3249.3 870.2","aria-hidden":"true"},k={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},y={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.172ex"},xmlns:"http://www.w3.org/2000/svg",width:"18.503ex",height:"4.701ex",role:"img",focusable:"false",viewBox:"0 -1118 8178.4 2078","aria-hidden":"true"},b={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},M={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.172ex"},xmlns:"http://www.w3.org/2000/svg",width:"18.503ex",height:"4.701ex",role:"img",focusable:"false",viewBox:"0 -1118 8178.4 2078","aria-hidden":"true"},D={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Z={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.819ex"},xmlns:"http://www.w3.org/2000/svg",width:"20.351ex",height:"6.74ex",role:"img",focusable:"false",viewBox:"0 -1733 8995.2 2978.9","aria-hidden":"true"},V={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},_={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.819ex"},xmlns:"http://www.w3.org/2000/svg",width:"23.036ex",height:"6.74ex",role:"img",focusable:"false",viewBox:"0 -1733 10182.1 2978.9","aria-hidden":"true"};function v(j,Q,A,C,R,S){return e(),a("div",null,[Q[29]||(Q[29]=T("",10)),t("mjx-container",n,[(e(),a("svg",d,[...Q[0]||(Q[0]=[T("",1)])])),Q[1]||(Q[1]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"η"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,","),t("mi",null,"i")])]),t("mo",null,"="),t("mfrac",null,[t("mi",null,"α"),t("mrow",null,[t("mi",null,"β"),t("mo",null,"+"),t("msqrt",null,[t("munderover",null,[t("mo",{"data-mjx-texclass":"OP"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"j"),t("mo",null,"="),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t")])])]),t("msubsup",null,[t("mo",null,"▽"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"j"),t("mo",null,","),t("mi",null,"i")]),t("mn",null,"2")])])])])],-1))]),t("p",null,[Q[4]||(Q[4]=l("其中，",-1)),t("mjx-container",r,[(e(),a("svg",i,[...Q[2]||(Q[2]=[T("",1)])])),Q[3]||(Q[3]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"α"),t("mo",null,","),t("mi",null,"β")])],-1))]),Q[5]||(Q[5]=l("是两个超参数.",-1))]),Q[30]||(Q[30]=t("ul",null,[t("li",null,"Per-weight square root learning rate:")],-1)),t("mjx-container",h,[(e(),a("svg",p,[...Q[6]||(Q[6]=[T("",1)])])),Q[7]||(Q[7]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"η"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,","),t("mi",null,"i")])]),t("mo",null,"="),t("mfrac",null,[t("mi",null,"α"),t("msqrt",null,[t("msub",null,[t("mi",null,"n"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,","),t("mi",null,"i")])])])])])],-1))]),t("p",null,[Q[10]||(Q[10]=l("其中，",-1)),t("mjx-container",g,[(e(),a("svg",c,[...Q[8]||(Q[8]=[T("",1)])])),Q[9]||(Q[9]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"n"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,","),t("mi",null,"i")])])])],-1))]),Q[11]||(Q[11]=l("是特征i所有实例的前t次的总和。",-1))]),Q[31]||(Q[31]=t("ul",null,[t("li",null,"Per-weight learning rate:")],-1)),t("mjx-container",u,[(e(),a("svg",x,[...Q[12]||(Q[12]=[T("",1)])])),Q[13]||(Q[13]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"η"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,","),t("mi",null,"i")])]),t("mo",null,"="),t("mfrac",null,[t("mi",null,"α"),t("msub",null,[t("mi",null,"n"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,","),t("mi",null,"i")])])])])],-1))]),Q[32]||(Q[32]=t("ul",null,[t("li",null,"Global learning rate:")],-1)),t("mjx-container",H,[(e(),a("svg",w,[...Q[14]||(Q[14]=[T("",1)])])),Q[15]||(Q[15]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"η"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,","),t("mi",null,"i")])]),t("mo",null,"="),t("mfrac",null,[t("mi",null,"α"),t("msqrt",null,[t("mi",null,"t")])])])],-1))]),Q[33]||(Q[33]=t("ul",null,[t("li",null,"Constant learning rate:")],-1)),t("mjx-container",L,[(e(),a("svg",f,[...Q[16]||(Q[16]=[T("",1)])])),Q[17]||(Q[17]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"η"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,","),t("mi",null,"i")])]),t("mo",null,"="),t("mi",null,"α")])],-1))]),Q[34]||(Q[34]=t("ol",{start:"3"},[t("li",null,[t("p",null,"为了保证数据的新鲜性，需要进行在线数据加入，所有的曝光的实例，设置时间t，在时间t内被点击设置为label=1,否则设置label=0,注意时间t不能太大也不能太小，根据现实业务进行设置.")]),t("li",null,[t("p",null,"样本的均匀采样和负样本数据的下采样，由于负样本太多需要对负样本进行下采样。")]),t("li",null,[t("p",null,"Model Re-Calibration")])],-1)),Q[35]||(Q[35]=t("blockquote",null,[t("p",null,"负样本欠采样可以加快训练速度并提升模型性能。但是同样带来了问题：改变了训练数据分布。所以需要进行校准。")],-1)),t("mjx-container",k,[(e(),a("svg",y,[...Q[18]||(Q[18]=[T("",1)])])),Q[19]||(Q[19]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mi",null,"q"),t("mo",null,"="),t("mfrac",null,[t("mi",null,"p"),t("mrow",null,[t("mi",null,"p"),t("mo",null,"+"),t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"p"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"/")]),t("mi",null,"w")])])])],-1))]),Q[36]||(Q[36]=T("",6)),t("blockquote",null,[Q[22]||(Q[22]=t("p",null,"负样本欠采样可以加快训练速度并提升模型性能。但是同样带来了问题：改变了训练数据分布。所以需要进行校准。",-1)),t("mjx-container",b,[(e(),a("svg",M,[...Q[20]||(Q[20]=[T("",1)])])),Q[21]||(Q[21]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mi",null,"q"),t("mo",null,"="),t("mfrac",null,[t("mi",null,"p"),t("mrow",null,[t("mi",null,"p"),t("mo",null,"+"),t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"p"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"/")]),t("mi",null,"w")])])])],-1))])]),Q[37]||(Q[37]=t("ol",{start:"3"},[t("li",null,"GBDT特征的重要性是如何评估的?")],-1)),t("blockquote",null,[Q[27]||(Q[27]=t("p",null,"特征j的全局重要度通过特征j在单颗树中的重要度的平均值来衡量:",-1)),t("mjx-container",D,[(e(),a("svg",Z,[...Q[23]||(Q[23]=[T("",1)])])),Q[24]||(Q[24]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msubsup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"J"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"j"),t("mn",null,"2")]),t("mo",null,"="),t("mfrac",null,[t("mn",null,"1"),t("mi",null,"M")]),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"m"),t("mo",null,"="),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"M")])]),t("msubsup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"J"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"j"),t("mn",null,"2")]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"T"),t("mi",null,"m")]),t("mo",{stretchy:"false"},")")])],-1))]),Q[28]||(Q[28]=t("p",null,"其中，M是树的数量，特征j在单棵树中的重要度如下:",-1)),t("mjx-container",V,[(e(),a("svg",_,[...Q[25]||(Q[25]=[T("",1)])])),Q[26]||(Q[26]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msubsup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"J"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"j"),t("mn",null,"2")]),t("mo",{stretchy:"false"},"("),t("mi",null,"T"),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"t"),t("mo",null,"="),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"L"),t("mo",null,"−"),t("mn",null,"1")])]),t("msubsup",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"i"),t("mo",{stretchy:"false"},"^")])]),t("mi",null,"j"),t("mn",null,"2")]),t("mi",null,"I"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"v"),t("mi",null,"t")]),t("mo",null,"="),t("mi",null,"j"),t("mo",{stretchy:"false"},")")])],-1))])]),Q[38]||(Q[38]=T("",15))])}const P=s(m,[["render",v]]);export{q as __pageData,P as default};
