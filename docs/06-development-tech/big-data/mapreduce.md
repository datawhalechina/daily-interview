## æµ·é‡æ•°æ®å¤„ç†å¸¸ç”¨æŠ€æœ¯æ¦‚è¿?
> å¦‚ä»Šäº’è”ç½‘äº§ç”Ÿçš„æ•°æ®é‡å·²ç»è¾¾åˆ°PBçº§åˆ«ï¼Œå¦‚ä½•åœ¨æ•°æ®é‡ä¸æ–­å¢å¤§çš„æƒ…å†µä¸‹ï¼Œä¾ç„¶ä¿è¯å¿«é€Ÿçš„æ£€ç´¢æˆ–è€…æ›´æ–°æ•°æ®ï¼Œæ˜¯æˆ‘ä»¬é¢ä¸´çš„é—®é¢˜ã€?
æ‰€è°“æµ·é‡æ•°æ®å¤„ç†ï¼Œæ˜¯æŒ‡åŸºäºæµ·é‡æ•°æ®çš„å­˜å‚¨ã€å¤„ç†å’Œæ“ä½œç­‰ã€‚å› ä¸ºæ•°æ®é‡å¤ªå¤§æ— æ³•åœ¨çŸ­æ—¶é—´è¿…é€Ÿè§£å†³ï¼Œæˆ–è€…ä¸èƒ½ä¸€æ¬¡æ€§è¯»å…¥å†…å­˜ä¸­ã€?

åœ¨è§£å†³æµ·é‡æ•°æ®çš„é—®é¢˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦ä»€ä¹ˆæ ·çš„ç­–ç•¥å’ŒæŠ€æœ¯ï¼Œæ˜¯æ¯ä¸€ä¸ªäººéƒ½ä¼šå…³å¿ƒçš„é—®é¢˜ã€‚ä»Šå¤©æˆ‘ä»¬å°±æ¢³ç†ä¸€ä¸‹åœ¨è§£å†³å¤§æ•°æ®é—®é¢?
çš„æ—¶å€™éœ€è¦ä½¿ç”¨çš„æŠ€æœ¯ï¼Œä½†æ˜¯æ³¨æ„è¿™é‡Œåªæ˜¯ä»æŠ€æœ¯è§’åº¦è¿›è¡Œåˆ†æï¼Œåªæ˜¯ä¸€ç§æ€æƒ³å¹¶ä¸ä»£è¡¨ä¸šç•Œçš„æŠ€æœ¯ç­–ç•¥ã€?
å¸¸ç”¨åˆ°çš„ç®—æ³•ç­–ç•¥
1. åˆ†æ²»ï¼šå¤šå±‚åˆ’åˆ†ã€MapReduce
2. æ’åºï¼šå¿«é€Ÿæ’åºã€æ¡¶æ’åºã€å †æ’åº
3. æ•°æ®ç»“æ„ï¼šå †ã€ä½å›¾ã€å¸ƒéš†è¿‡æ»¤å™¨ã€å€’æ’ç´¢å¼•ã€äºŒå‰æ ‘ã€Trieæ ‘ã€Bæ ‘ï¼Œçº¢é»‘æ ?
4. Hashæ˜ å°„ï¼šhashMapã€simhashã€å±€éƒ¨æ•æ„Ÿå“ˆå¸?

### æµ·é‡æ•°æ®å¤„ç†ï¼ï¼ä»åˆ†è€Œæ²»ä¹‹åˆ°Mapreduce

**åˆ†æ²»**
> åˆ†æ²»æ˜¯ä¸€ç§ç®—æ³•æ€æƒ³ï¼Œä¸»è¦ç›®çš„æ˜¯å°†ä¸€ä¸ªå¤§é—®é¢˜åˆ†æˆå¤šä¸ªå°é—®é¢˜è¿›è¡Œæ±‚è§£ï¼Œä¹‹ååˆå¹¶ç»“æœã€‚æˆ‘ä»¬å¸¸ç”¨åˆ°çš„æœ‰å½’å¹¶æ’åº:*å…ˆåˆ†æˆä¸¤éƒ¨åˆ†è¿›è¡Œæ’åºï¼Œä¹‹ååœ¨åˆå¹¶*ï¼?  
å½“ç„¶è¿˜æœ‰å…¶ä»–çš„å¾ˆå¤šåº”ç”¨ï¼Œå°±æ¯”å¦‚æ˜¯æˆ‘ä»¬ä¸Šç¯‡æ–‡ç« ä¸­æåˆ°çš„Top Ké—®é¢˜ï¼Œå°±æ˜¯å°†å¤§æ–‡ä»¶åˆ†æˆå¤šä¸ªå°æ–‡ä»¶è¿›è¡Œç»Ÿè®¡ï¼Œä¹‹åè¿›è¡Œåˆå¹¶ç»“æœã€‚è¿™é‡Œæˆ‘ä»¬å¯¹åˆ†æ²»è¿›è¡ŒæŠ½è±¡ï¼?  
ä¾ç„¶ä»ä¸Šè¿°æåˆ°çš„Top Ké¢‘ç‡ç»Ÿè®¡å¼€å§‹å‡ºå‘ã€‚å®šä¹‰å¦‚ä¸‹ï¼šæœ‰Må¤šä¸ªQueryæ—¥å¿—æ–‡ä»¶è®°å½•ï¼Œè¦æ±‚å¾—åˆ°Top Kçš„Queryã€?  
æˆ‘ä»¬å¯ä»¥æŠ½è±¡æˆå‡ ä¸ªæ­¥éª¤ï¼š
1. å¤šä¸ªæ–‡ä»¶çš„è¾“å…¥ï¼Œæˆ‘ä»¬å«åš**input splits**
2. å¤šè¿›ç¨‹åŒæ—¶å¤„ç†å¤šä¸ªæ–‡æ¡£ï¼Œæˆ‘ä»¬å«åš**map**ã€?
3. **partition** *ä»ä¸Šæ–‡ä¸­æˆ‘ä»¬çŸ¥é“ã€‚å› ä¸ºæˆ‘ä»¬è¦å°†ç›¸åŒçš„Queryæ˜ å°„çš„ä¸€èµ?
4. å¤šè¿›ç¨‹å¤„ç†åˆ’åˆ†æˆ–çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬å«åš**reduce**
5. åˆå¹¶è¿‡ä¸ªæ–‡ä»¶çš„ç»“æœï¼Œæˆ‘ä»¬å«åš**merge**

> ä¸Šé¢çš„è¿™å››ä¸ªæ­¥éª¤æ˜¯æˆ‘ä»¬ä»Top Ké—®é¢˜æŠ½è±¡å‡ºæ¥çš„ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬å¯¹æ¯ä¸€æ­¥è¿›è¡Œä¸€ä¸ªå–åå­—ï¼Ÿå› ä¸ºè¿™å°±æ˜¯æœ€ç®€å•çš„MapReduceçš„åŸç†ã€‚æˆ‘ä»¬ç°åœ¨å°±å¯ä»¥è®¤ä¸ºä¹‹å‰å·²ç»
ç”¨è¿‡Mapreduceçš„æ€æƒ³äº†ï¼Œå®ƒå°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œå½“ç„¶ä¸­çš„å¾ˆå¤šé—®é¢˜æˆ‘éƒ½æ²¡æœ‰æå‡ºæ¥ï¼Œä½†æ˜¯ä¸»è¦çš„æ€æƒ³å°±æ˜¯è¿™æ ·ï¼Œå¾ˆæˆç†Ÿçš„MapReduceçš„å®ç°ï¼Œæœ‰Hadoopå’ŒCouchDBç­‰ã€?    
æˆ‘ç»™å‡ºä¸€å¼ å›¾ç‰‡æ¥è¡¨ç¤ºè¿™ä¸ªè¿‡ç¨‹ã€?
![](http://images0.cnblogs.com/blog/508066/201506/151059199826134.jpg)

**MapReduce**
> MapReduceæ˜¯ä¸€ç§ç¼–ç¨‹æ¨¡å¼ã€å¤§æ•°æ®æ¡†æ¶çš„å¹¶è¡Œå¤„ç†æ¥å£å’Œåˆ†å¸ƒå¼ç®—æ³•è®¡ç®—å¹³å°ï¼Œä¸»è¦ç”¨äºå¤§è§„æ¨¡æ•°æ®é›†åˆçš„å¹¶è¡Œè®¡ç®—ã€‚ä¸€ä¸ªMapreduceçš„ç¨‹åºä¸»è¦æœ‰ä¸¤éƒ¨åˆ†ç»„æˆ? mapå’Œreduce. å®ƒä¸»è¦å€Ÿé‰´äº†å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€å’ŒçŸ¢é‡ç¼–ç¨‹è¯­è¨€ç‰¹æ€§ã€?
MapReduceæœ€æ—©æ˜¯ç”±Googleå…¬å¸ç ”ç©¶æå‡ºçš„ä¸€ç§é¢å‘å¤§è§„æ¨¡æ•°æ®å¤„ç†çš„å¹¶è¡Œè®¡ç®—æ¨¡å‹å’Œæ–¹æ³•ã€‚Googleå…¬å¸è®¾è®¡MapReduceçš„åˆè¡·ä¸»è¦æ˜¯ä¸ºäº†è§£å†³å…¶æœç´¢å¼•æ“ä¸­å¤§è§„æ¨¡ç½‘é¡µæ•°æ®çš„å¹¶è¡ŒåŒ–å¤„ç†ã€?

**MapReduceç»„æˆ**
> 1. **Map:**   
    ç”¨æˆ·æ ¹æ®éœ€æ±‚è®¾ç½®çš„Mapå‡½æ•°ï¼Œæ¯ä¸€ä¸ªå·¥ä½œèŠ‚ç‚?ä¸»æœº)å¤„ç†æœ¬åœ°çš„æ•°æ®ï¼Œå°†ç»“æœå†™å…¥ä¸´æ—¶æ–‡ä»¶ï¼Œç»™è°ƒç”¨Reduceå‡½æ•°çš„èŠ‚ç‚¹ä½¿ç”¨ã€?
    
> 2. **Shuffle:**       
    åœ¨MapReduceçš„ç¼–ç¨‹æ¨¡å¼ä¸­ï¼Œæˆ‘ä»¬è¦æ—¶åˆ»æ³¨æ„åˆ°æ•°æ®ç»“æ„æ˜¯(key, value)å¯¹ï¼ŒShuffleå°±æ˜¯æ‰“ä¹±æ•°æ®ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬ä¹‹å‰æåˆ°è¿‡çš„Partitionå¤„ç†ï¼Œä¸»è¦ç›®çš„æ˜¯å°†ç›¸åŒçš„keyçš„æ•°æ®æ˜ å°„åˆ°åŒä¸€ä¸ªReduceå·¥ä½œçš„èŠ‚ç‚¹ï¼ˆè¿™æ˜¯ä¸»è¦çš„åŠŸèƒ½ï¼Œå½“ç„¶è¿˜æœ‰å…¶ä»–çš„åŠŸèƒ½ï¼‰ã€?

> 3. **Reduce:**    
    Reduceå‡½æ•°ï¼Œå¹¶è¡Œå¤„ç†ç›¸åŒkeyçš„å‡½æ•°ï¼Œè¿”å›ç»“æœã€?

    Mapreduceæ¨¡å¼è¿™ä¹ˆæµè¡Œï¼Œç°åœ¨å‡ ä¹æ‰€æœ‰çš„å¤§å…¬å¸éƒ½åœ¨ä½¿ç”¨Hadoopæ¡†æ¶ï¼Œå½“ç„¶å¯èƒ½ä¼šæœ‰ä¸€äº›ä¼˜åŒ–ï¼Œä¸è¿‡ä¸»è¦çš„æ€æƒ³ä¾ç„¶æ˜¯MapReduceæ¨¡å¼ã€‚åœ¨å…¬å¸ä¸­æˆ–è€…ä¸ªäººçš„ä½¿ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šå…ˆæ­å»ºHadoopç¯å¢ƒï¼Œä¹‹åæœ€ç®€å•çš„ä½¿ç”¨å°±æ˜¯æä¾›Mapå‡½æ•°å’ŒReduceå‡½æ•°å³å¯ï¼Œè¯­è¨€å¯ä»¥ä½¿ç”¨C++ã€Javaã€Pythonç­‰ã€‚ä¾‹å¦‚æˆ‘ä»¬æåˆ°çš„Top ké—®é¢˜çš„ä¼ªä»£ç çš„ä¾‹å­ï¼š     
    
    ```
    map(String key, String values):
        // key: æ–‡æ¡£åå­—
        // values: æ–‡æ¡£å†…å®¹
        for each line in values:
            EmitIntemediate(line, "1")

    ..... // è¿™ä¸­é—´çš„çœç•¥å·ï¼Œè¡¨ç¤ºè¿˜å¯ä»¥åŠ ä¸€äº›ä»£ç ï¼Œ
    ..... // ä¸åŠ ä¹Ÿä¸å½±å“ç»“æœï¼Œåªæ˜¯æ•ˆç‡é—®é¢˜ï¼Œåé¢ä¼šæåˆ?

    reduce(String key, Iterator values):
        // key: a query
        // values: a lists of counts
        int result = 0;
        for each v in values:
            result += ParseInt(v)
        Emit(AsString(result))
    ```

**ä»£ç æŠ½è±¡**
> map:ã€€ã€€ã€€ (k1, v1) ã€€ã€€   --->ã€€ã€€ list(k2, v2)    
reduce: ã€€ã€€(k2, list(v2)) ---> ã€€ã€€list(vï¼?   

MapReduceæ”¯æŒçš„æ•°æ®æ ¼å¼ï¼Œä»ä¸Šè¿°çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°MapReduceçš„è¾“å…¥å’Œè¾“å‡ºéƒ½æ˜¯(k, v)å¯¹çš„æ ¼å¼ã€‚å½“ç„¶è¿™åªæ˜¯è½¬æ¢ä¹‹åçš„æ ¼å¼ï¼Œä¸€èˆ¬æ¥ä¹¦æˆ‘ä»¬çš„è¾“å…¥æ–‡ä»¶éƒ½æ˜¯æ–‡ä»¶ï¼ŒMapReduceè®¤ä¸ºç¬¬ä¸€ä¸ªåˆ†éš”ç¬¦ä¹‹å‰çš„å­—æ®µæ˜¯keyï¼Œåé¢çš„valuesï¼?valueså¯ä»¥ä¸å­˜åœ¨ï¼Œä¾‹å¦‚æˆ‘ä»¬çš„Top ké—®é¢˜å°±æ²¡æœ‰values)ã€‚æ‰€æœ‰åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦ç”¨åˆ†éš”ç¬¦ç©ºæ ¼å°†keyå’Œvaluesåˆ†å¼€ï¼Œæ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªæ•°æ®ï¼Œæä¾›æˆ‘ä»¬éœ€è¦çš„Mapå’ŒReduceå‡½æ•°å³å¯ã€?

æ–‡ç« åˆ°æ­¤åº”è¯¥å·²ç»å¯ä»¥ç»“æŸäº†ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•MapReduceæ¡†æ¶ä¸‹ï¼Œæ ¹æ®éœ€æ±‚å†™å‡ºmapå‡½æ•°å’Œreduceå‡½æ•°ã€‚å¯¹äºæƒ³ç”¨ä½¿ç”¨MapReduceçš„ç¨‹åºå‘˜æ¥è¯´ï¼Œåœ¨å†™å‡½æ•°çš„æ—¶å€™åªéœ€è¦æ³¨æ„keyå’Œvalueæ€ä¹ˆè®¾ç½®ï¼Œå¦‚ä½•ç¼–å†™mapå’Œreduceå‡½æ•°ï¼Œå› ä¸ºä¸­é—´çš„ç»†èŠ‚ï¼Œè¿è¡Œçš„æ¡†æ¶å·²ç»å¸®æˆ‘ä»¬å°è£…çš„å¾ˆå¥½çš„ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆMapreduceåœ¨ä¸šç•Œæµè¡Œã€‚è¿™ç§ç¼–ç¨‹æ¨¡å¼å¾ˆç®€å•ï¼Œåªè¦æmapå’Œreduceå‡½æ•°ï¼Œå¯¹äºé‚£äº›æ²¡æœ‰å¹¶è¡Œè®¡ç®—å’Œåˆ†å¸ƒå¼å¤„ç†ç»éªŒçš„ç¨‹åºå‘˜ï¼ŒMapReduceæ¡†æ¶å¸®æˆ‘ä»¬å¤„ç†å¥½äº†å¹¶è¡Œè®¡ç®—ã€é”™è¯¯å®¹å¿ã€æœ¬åœ°è¯»å–ä¼˜åŒ–å’ŒåŠ è½½å¹³è¡¡çš„ç»†èŠ‚ï¼Œæˆ‘ä»¬åªéœ€è¦å…³æ³¨ä¸šåŠ¡ï¼Œä¸ç”¨å…³å¿ƒç»†èŠ‚ï¼Œè¿˜æœ‰å°±æ˜¯è¿™ä¹ˆç¼–ç¨‹æ¨¡å¼å¯ä»¥ç®€å•çš„è§£å†³å¾ˆå¤šå¸¸è§çš„é—®é¢˜ï¼Œä¾‹å¦‚: linuxä¸­çš„grepå‘½ä»¤ï¼ŒSortï¼ŒTop Kï¼Œå€’æ’ç´¢å¼•ç­‰é—®é¢˜ã€?

çŸ¥å…¶ç„¶è€ŒçŸ¥å…¶æ‰€ä»¥ç„¶ï¼Œä¸ä»…æ›´èƒ½å¸®åŠ©æˆ‘ä»¬å†™å‡ºæ›´ä¼˜çš„ä»£ç ï¼Œæ›´é‡è¦çš„æ˜¯å¦‚ä½•åœ¨æ”¹è¿›ç°æœ‰çš„æŠ€æœ¯ï¼Œä½¿å…¶æ›´å¥½çš„åº”ç”¨åˆ°æˆ‘ä»¬çš„ä¸šåŠ¡ä¸Šï¼Œå› ä¸ºå¾ˆå¤šå¤§å…¬å¸éƒ½ä¼šé‡å†™è¿™ç§ä»£ç ï¼Œä½¿å…¶åœ¨å…¬å¸å†…éƒ¨æ›´å¥½çš„åº”ç”¨ã€?


### æµ…è°ˆæŠ€æœ¯ç»†èŠ?

MapReduceæ¨¡å¼ä¸‹æˆ‘ä»¬éœ€è¦å…³æ³¨çš„é—®é¢˜å¦‚ä¸‹(å‚è€ƒè®ºæ–?ï¼?
1. **æ•°æ®å’Œä»£ç å¦‚ä½•å­˜å‚?**
> è®¾ç½®ä¸€ä¸ªMasterï¼Œæ‹·è´ä»£ç æ–‡ä»¶ï¼Œåˆ†é…ç»™èŠ‚ç‚¹è¿›è¡Œå¤„ç†ï¼ŒæŒ‡å®šMapæˆ–è€…Reduceå·²ç»è¾“å…¥å’Œè¾“å‡ºæ–‡ä»¶çš„è·¯å¾„ã€‚æ‰€æœ‰MasterèŠ‚ç‚¹æ˜¯ä¸€ä¸ªç®¡ç†èŠ‚ç‚¹è´Ÿè´£è°ƒåº¦ã€?
2. **å¦‚ä½•Shuffleï¼?*
> åœ¨MapReduceä¸­éƒ½æ˜?key, values)æ•°æ®ï¼Œè¾“å…¥çš„Mä¸ªæ–‡ä»¶ç›´æ¥å¯¹åº”Mçš„Mapï¼Œäº§ç”Ÿçš„ä¸­é—´ç»“æœkey2ï¼Œé€šè¿‡å“ˆå¸Œå‡½æ•°ï¼?
hash(key) % R(Ræ˜¯Reduceçš„ä¸ªæ•?ã€‚å½“ç„¶æˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€ä¸ªå¥½çš„hashå‡½æ•°ï¼Œä¿è¯ä»»åŠ¡ä¸å¹³è¡¡åˆ†åˆ°ä¸åŒçš„ReduceèŠ‚ç‚¹ä¸Šã€?

3. **èŠ‚ç‚¹ä¹‹é—´å¦‚ä½•é€šä¿¡ï¼?*
> Masterè´Ÿè´£è°ƒåº¦å’Œé€šä¿¡ï¼Œå…¶ä»–èŠ‚ç‚¹ä¹‹å’ŒMasterèŠ‚ç‚¹é€šä¿¡ï¼Œmasterç›‘æ§æ‰€æœ‰èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œæ¯”å¦‚æ˜¯mapæˆ–è€…reduceä»»åŠ¡ï¼Œæ˜¯å¦è¿è¡Œç»“æŸï¼Œå ç”¨çš„èµ„æºã€æ–‡ä»¶è¯»å†™é€Ÿåº¦ç­‰ï¼Œmasterä¼šé‡æ–°åˆ†é…é‚£äº›å·²ç»å®Œæˆçš„èŠ‚ç‚¹ä»»åŠ¡ï¼Œå¯¹æ‰€æœ‰çš„é”™è¯¯çš„èŠ‚ç‚¹é‡æ–°æ‰§è¡Œã€?
4. **èŠ‚ç‚¹å‡ºç°é”™è¯¯å¦‚ä½•è§£å†³ï¼?*
> å› ä¸ºæœ‰masterçš„å­˜åœ¨ï¼Œå¯ä»¥é‡æ–°æ‰§è¡Œå‡ºç°é”™è¯¯çš„è¿è¡ŒèŠ‚ç‚¹ï¼Œæ³¨æ„çš„æ˜¯å¯¹äºå‡ºé”™çš„mapä»»åŠ¡ï¼Œå…¶åˆ†é…åˆ°çš„reduceä»»åŠ¡ä¹Ÿè¦é‡æ–°æ‰§è¡Œã€‚èŠ‚ç‚¹è¿è¡Œbugï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹ä»£ç ï¼Œä½¿å…¶æ›´é²æ£’ï¼Œä½†æ˜¯æœ‰æ—¶å€™æˆ‘ä»¬å¿…é¡»ä½¿ç”¨try-catchæ“ä½œè·³è¿‡ä¸€äº›é”™è¯¯çš„bad lines.
5. **Mapå’ŒReduceä¸ªæ•°å¦‚ä½•è®¾ç½®ï¼?*
> è¿™ä¸ªè®¾ç½®å’Œé›†ç¾¤çš„ä¸ªæ•°å’Œç»éªŒæœ‰å¾ˆå¤§å…³ç³»ï¼Œå»ºè®®æˆ‘ä»¬æ¯ä¸€ä¸ªmapä»»åŠ¡çš„è¾“å…¥æ•°æ?6-64MB, å› æ­¤mapçš„ä¸ªæ•?= æ€»çš„æ–‡ä»¶å¤§å° / 16-64MB. reduceçš„ä¸ªæ•°å»ºè®®å¤§äºèŠ‚ç‚¹çš„ä¸ªæ•°ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ›´å¥½çš„å¹¶è¡Œè®¡ç®—ã€?
6. **æ€ä¹ˆæ§åˆ¶è´Ÿè½½å¹³è¡¡ï¼?*
> masterä¼šç›‘æ§æ‰€æœ‰èŠ‚ç‚¹çš„è¿è¡ŒçŠ¶æ€ï¼Œå¹¶ä¸”è¦å¯¹æ‰€æœ‰çš„è¿è¡Œå®Œæˆçš„èŠ‚ç‚¹é‡æ–°åˆ†é…ä»»åŠ¡ï¼Œæ¥ä¿è¯è´Ÿè½½å‡è¡¡ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è¿™é‡Œçš„å¹¶è¡Œè®¡ç®—æ˜¯mapå’Œreduceçš„åˆ†åˆ«å¹¶è¡Œè®¡ç®—ï¼Œå¿…é¡»ä¿è¯mapæ‰§è¡Œä¹‹åæ‰èƒ½æ‰§è¡Œreduce(å› ä¸ºä½ æœ‰shuffleæ“ä½œ)ã€?
7. **æŠ€å·?*
>+ mapä»»åŠ¡è¿è¡Œæ—¶å€™å°½å¯èƒ½çš„è¯»å–æœ¬åœ°æˆ–è€…å½“å‰å±€åŸŸå†…çš„æ–‡ä»¶ï¼Œå‡å°‘æ–‡ä»¶ä¼ è¾“çš„ç½‘ç»œå¸¦å®?
> + Må’ŒRçš„è®¾ç½®ä¼šå¯¹masterçš„ç›‘ç£æœ‰ä¸€å®šçš„å½±å“ï¼Œå› ä¸ºè¦ç›‘ç£æ‰€æœ‰çš„çŠ¶æ€?
> + å¤‡ä»½è¿è¡ŒçŠ¶æ€å¾ˆé‡è¦ï¼Œå¯ä»¥çŸ¥é“é‚£å°èŠ‚ç‚¹è¿è¡Œçš„ç¼“æ…¢ï¼Œå¯èƒ½å‡ºç°å¼‚å¸¸ï¼Œå¯ä»¥è®©å…¶ä»–èŠ‚ç‚¹ä»£æ›¿å®ƒè¿è¡Œä»»åŠ¡
> + shuffleæ“ä½œçš„hashå‡½æ•°çœŸçš„å¾ˆé‡è¦ï¼Œå¯ä»¥æœ‰æ•ˆçš„è§£å†³è´Ÿè½½å‡è¡?
> + mapç”Ÿæˆçš„ä¸­é—´æ–‡ä»¶è¦æ ¹æ®keyè¿›è¡Œæ’åºï¼Œä¹Ÿå¯ä»¥ä¾¿äºåˆ’åˆ†
> + mapå’Œreduceä¹‹é—´æœ‰æ—¶å€™éœ€è¦åŠ åˆå¹¶(combiner)æ“ä½œ,å¯ä»¥èµ·åˆ°åŠ é€Ÿä½œç”?

### å‚è€?
1. [MapReduce wikipedia ](https://en.wikipedia.org/wiki/MapReduce)
2. [MapReduce Paper](https://static.googleusercontent.com/media/research.google.com/en//archive/mapreduce-osdi04.pdf)









